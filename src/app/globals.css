@import "tailwindcss";

/* ─── Design Tokens ─────────────────────────────────────── */
:root {
  /* Color — Soft Muted Palette */
  --color-bg:        #0e0e0f;
  --color-surface:   #161618;
  --color-border:    rgba(255, 255, 255, 0.08);
  --color-text:      #e8e4de;
  --color-muted:     #7a776f;
  --color-accent:    #c9b89a;

  /* Liquid Gradient Stop Colors */
  --liquid-a:        #2a1f3d;
  --liquid-b:        #1a2a3a;
  --liquid-c:        #0f2520;

  /* Typography */
  --font-serif:      "Cormorant Garamond", Georgia, serif;
  --font-sans:       "Inter", system-ui, sans-serif;

  /* Eraser Effect */
  --eraser-radius:   12rem;

  /* Animation */
  --duration-slow:   1.2s;
  --duration-medium: 0.6s;
  --ease-out-expo:   cubic-bezier(0.16, 1, 0.3, 1);
}

/* ─── Base Reset ─────────────────────────────────────────── */
@layer base {
  *,
  *::before,
  *::after {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
    cursor: none !important;
  }

  html {
    font-size: 16px;
    scroll-behavior: smooth;
  }

  body {
    background-color: var(--color-bg);
    color: var(--color-text);
    font-family: var(--font-sans);
    -webkit-font-smoothing: antialiased;
    overflow-x: hidden;
  }
}

/* ─── Tailwind Theme Extension ───────────────────────────── */
@theme inline {
  --color-bg:      var(--color-bg);
  --color-surface: var(--color-surface);
  --color-border:  var(--color-border);
  --color-text:    var(--color-text);
  --color-muted:   var(--color-muted);
  --color-accent:  var(--color-accent);

  --font-serif:    var(--font-serif);
  --font-sans:     var(--font-sans);
}

/* ─── Utility ────────────────────────────────────────────── */
.gpu {
  will-change: transform, opacity;
  transform: translateZ(0);
}

/* ─── Liquid Background ─────────────────────────────────── */
/*
 * 수면 아래에서 물감이 퍼지듯 색상이 천천히 일렁이는 그라데이션.
 * 세 색상 포인트가 서로 다른 속도로 이동해 유기적인 움직임을 만듦.
 */
@keyframes liquid-shift {
  0%   { background-position: 0% 50%; }
  50%  { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

.liquid-bg {
  background: linear-gradient(
    135deg,
    var(--liquid-a) 0%,
    var(--liquid-b) 40%,
    var(--liquid-c) 70%,
    var(--liquid-a) 100%
  );
  background-size: 300% 300%;
  animation: liquid-shift 14s ease infinite;
}

/* 카드 호버 시 배경이 더 빠르게 일렁임 */
.liquid-fast {
  animation-duration: 5s !important;
}

/* ─── Featured Glass Card ────────────────────────────────── */
/*
 * 유리 효과의 핵심:
 *  1. backdrop-filter + saturate — 배경을 투과하며 채도 강조
 *  2. inset 상단 흰 선              — 유리 엣지 반사광
 *  3. ::before 대각 글레어          — 빛이 유리 표면에 닿는 하이라이트
 */
.featured-card {
  background: linear-gradient(
    160deg,
    rgba(255, 255, 255, 0.11) 0%,
    rgba(255, 255, 255, 0.04) 100%
  );
  backdrop-filter: blur(28px) saturate(180%);
  -webkit-backdrop-filter: blur(28px) saturate(180%);
  border: 1px solid rgba(255, 255, 255, 0.18);
  box-shadow:
    0 40px 80px rgba(0, 0, 0, 0.55),
    0 8px 24px rgba(0, 0, 0, 0.35),
    inset 0 1px 0 rgba(255, 255, 255, 0.38),
    inset 0 -1px 0 rgba(0, 0, 0, 0.12),
    inset 0 0 60px rgba(255, 255, 255, 0.02);
  border-radius: 1.5rem;
  overflow: hidden;
  position: relative;
}

/* 유리 표면 대각 글레어 */
.featured-card::before {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(
    145deg,
    rgba(255, 255, 255, 0.09) 0%,
    rgba(255, 255, 255, 0.02) 40%,
    transparent 60%
  );
  pointer-events: none;
  z-index: 10;
  border-radius: inherit;
}

/* 하단 frosted info 영역 */
.card-info-strip {
  background: linear-gradient(
    to bottom,
    rgba(8, 8, 12, 0) 0%,
    rgba(8, 8, 12, 0.72) 35%,
    rgba(8, 8, 12, 0.88) 100%
  );
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  border-top: 1px solid rgba(255, 255, 255, 0.08);
}

/* 유리 네비게이션 버튼 */
.glass-nav-btn {
  background: rgba(255, 255, 255, 0.07);
  backdrop-filter: blur(16px);
  -webkit-backdrop-filter: blur(16px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  box-shadow:
    0 4px 16px rgba(0, 0, 0, 0.3),
    inset 0 1px 0 rgba(255, 255, 255, 0.25);
  border-radius: 9999px;
  transition: background 0.2s ease, box-shadow 0.2s ease;
}
.glass-nav-btn:hover {
  background: rgba(255, 255, 255, 0.13);
  box-shadow:
    0 4px 24px rgba(0, 0, 0, 0.4),
    inset 0 1px 0 rgba(255, 255, 255, 0.35);
}

/* ─── Glassmorphism (캐러셀용, 소형) ────────────────────── */
.glass-card {
  background: rgba(255, 255, 255, 0.05);
  backdrop-filter: blur(18px);
  -webkit-backdrop-filter: blur(18px);
  border: 1px solid rgba(255, 255, 255, 0.1);
  box-shadow:
    0 8px 32px rgba(0, 0, 0, 0.35),
    inset 0 1px 0 rgba(255, 255, 255, 0.14);
}

.card-droplet {
  position: absolute;
  top: 0.8rem;
  right: 1.2rem;
  width: 3.5rem;
  height: 1.6rem;
  background: radial-gradient(ellipse at center, rgba(255, 255, 255, 0.28) 0%, transparent 70%);
  border-radius: 50%;
  filter: blur(5px);
  pointer-events: none;
}

.glass-tag {
  display: inline-block;
  font-family: var(--font-sans);
  font-size: 0.7rem;
  letter-spacing: 0.05em;
  color: rgba(255, 255, 255, 0.65);
  background: rgba(255, 255, 255, 0.08);
  border: 1px solid rgba(255, 255, 255, 0.12);
  border-radius: 9999px;
  padding: 0.2rem 0.65rem;
}

/* ─── Scrollbar Hide ─────────────────────────────────────── */
.hide-scrollbar::-webkit-scrollbar { display: none; }
.hide-scrollbar {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

/* ─── Glass Music Player Panel ──────────────────────────── */
/*
 * 뮤직 플레이어용 유리 패널
 * featured-card보다 더 깊은 블러와 채도
 */
.glass-player-panel {
  background: linear-gradient(
    160deg,
    rgba(255, 255, 255, 0.08) 0%,
    rgba(255, 255, 255, 0.02) 100%
  );
  backdrop-filter: blur(32px) saturate(160%);
  -webkit-backdrop-filter: blur(32px) saturate(160%);
  border: 1px solid rgba(255, 255, 255, 0.12);
  box-shadow:
    0 30px 60px rgba(0, 0, 0, 0.45),
    0 8px 24px rgba(0, 0, 0, 0.3),
    inset 0 1px 0 rgba(255, 255, 255, 0.30),
    inset 0 -1px 0 rgba(0, 0, 0, 0.1),
    inset 0 0 60px rgba(255, 255, 255, 0.015);
}

/* 유리 표면 대각 글레어 */
.glass-player-panel::before {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(
    145deg,
    rgba(255, 255, 255, 0.08) 0%,
    rgba(255, 255, 255, 0.02) 40%,
    transparent 60%
  );
  pointer-events: none;
  z-index: 10;
  border-radius: inherit;
}

/* ─── macOS Glass Window ─────────────────────────────────── */
.mac-glass-window {
  background: linear-gradient(
    180deg,
    rgba(255, 255, 255, 0.12) 0%,
    rgba(255, 255, 255, 0.06) 100%
  );
  backdrop-filter: blur(2px) saturate(120%);
  -webkit-backdrop-filter: blur(2px) saturate(120%);
  border: 1px solid rgba(255, 255, 255, 0.25);
  box-shadow:
    0 25px 50px rgba(0, 0, 0, 0.4),
    0 10px 20px rgba(0, 0, 0, 0.25),
    inset 0 1px 0 rgba(255, 255, 255, 0.35),
    inset 0 -1px 0 rgba(0, 0, 0, 0.1);
  border-radius: 1.5rem;
  position: relative;
  overflow: hidden;
}

.mac-titlebar {
  background: linear-gradient(
    180deg,
    rgba(255, 255, 255, 0.08) 0%,
    rgba(255, 255, 255, 0.02) 100%
  );
  border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.traffic-light {
  width: 0.75rem;
  height: 0.75rem;
  border-radius: 50%;
  transition: transform 0.15s ease, filter 0.15s ease;
}

.traffic-light:hover {
  transform: scale(1.15);
  filter: brightness(1.2);
}

.traffic-close {
  background: linear-gradient(180deg, #ff6058 0%, #e5453c 100%);
  box-shadow: 0 0 0.5px rgba(0, 0, 0, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.2);
}

.traffic-minimize {
  background: linear-gradient(180deg, #ffbd2e 0%, #dea123 100%);
  box-shadow: 0 0 0.5px rgba(0, 0, 0, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.2);
}

.traffic-maximize {
  background: linear-gradient(180deg, #28c940 0%, #1aab29 100%);
  box-shadow: 0 0 0.5px rgba(0, 0, 0, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.2);
}

/* ─── Holographic Highlight ─────────────────────────────── */
.holographic-highlight {
  background: linear-gradient(
    135deg,
    rgba(255, 100, 100, 0.08) 0%,
    rgba(255, 200, 100, 0.06) 20%,
    rgba(100, 255, 100, 0.06) 40%,
    rgba(100, 200, 255, 0.06) 60%,
    rgba(200, 100, 255, 0.06) 80%,
    rgba(255, 100, 200, 0.08) 100%
  );
  mix-blend-mode: overlay;
  pointer-events: none;
}

/* ─── Clock ─────────────────────────────────────────────── */
.clock-text {
  font-family: 'SF Pro Display', 'Inter', system-ui, -apple-system, sans-serif;
  font-weight: 200;
  letter-spacing: 0.05em;
  text-shadow: 0 2px 8px rgba(0, 0, 0, 0.5);
}

/* ─── Grain Texture ─────────────────────────────────────── */
.grain-texture::after {
  content: '';
  position: absolute;
  inset: 0;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
  opacity: 0.04;
  pointer-events: none;
  mix-blend-mode: overlay;
}

/* ─── Strong Blur for Hero Background ───────────────────── */
.hero-blur-bg {
  filter: blur(60px) saturate(120%);
  transform: scale(1.15);
}

/* ─── GNB ───────────────────────────────────────────────── */
.gnb {
  background: rgba(0, 0, 0, 0.08);
  backdrop-filter: blur(16px);
  -webkit-backdrop-filter: blur(16px);
  border-bottom: 1px solid rgba(255, 255, 255, 0.06);
}

/* ─── Timeline ──────────────────────────────────────────── */
.timeline-container {
  position: relative;
}

.timeline-container::before {
  content: '';
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  width: 1px;
  background: linear-gradient(
    to bottom,
    transparent 0%,
    rgba(255, 255, 255, 0.12) 10%,
    rgba(255, 255, 255, 0.12) 90%,
    transparent 100%
  );
}

/* ─── Log Card (Twitter Style) ──────────────────────────── */
.timeline-item-same-day {
  margin-bottom: 0.5rem;
}

.timeline-item-different-day {
  margin-bottom: 1rem;
}

.timeline-item:last-child {
  margin-bottom: 0;
}

.log-card {
  background: rgb(21, 32, 43);
  border: 1px solid rgb(47, 51, 54);
  padding: 1.25rem 1.5rem;
  transition: background 0.2s ease, border-color 0.2s ease;
}

.log-card:hover {
  background: rgb(26, 37, 48);
  border-color: rgb(56, 68, 77);
}

/* ─── Bento Grid Card ────────────────────────────────────── */
/*
 * 패널이 배경 위에 둥둥 떠 있는 느낌:
 *  - backdrop-filter로 배경을 몽환적으로 뭉갬
 *  - box-shadow로 공중 부양 느낌
 *  - 호버 시 블러 오버레이 걷힘 + 리퀴드 글로우 테두리
 */
.bento-card {
  background: linear-gradient(
    160deg,
    rgba(255, 255, 255, 0.08) 0%,
    rgba(255, 255, 255, 0.03) 100%
  );
  backdrop-filter: blur(20px) saturate(150%);
  -webkit-backdrop-filter: blur(20px) saturate(150%);
  border: 0.5px solid rgba(255, 255, 255, 0.15);
  box-shadow:
    0 24px 64px rgba(0, 0, 0, 0.45),
    0 4px 16px rgba(0, 0, 0, 0.25),
    inset 0 1px 0 rgba(255, 255, 255, 0.22);
  transition:
    box-shadow 0.35s ease,
    border-color 0.35s ease;
}

.bento-card:hover {
  border-color: rgba(255, 255, 255, 0.32);
  box-shadow:
    0 32px 80px rgba(0, 0, 0, 0.55),
    0 0 0 0.5px rgba(255, 255, 255, 0.28),
    0 0 48px rgba(200, 188, 255, 0.1),
    inset 0 1px 0 rgba(255, 255, 255, 0.38);
}

/* 호버 시 걷히는 블러 오버레이 */
.bento-blur-veil {
  backdrop-filter: blur(3px) brightness(0.92);
  -webkit-backdrop-filter: blur(3px) brightness(0.92);
  transition: opacity 0.45s ease;
  opacity: 1;
}

.bento-card:hover .bento-blur-veil {
  opacity: 0;
}

/* 이미지 — 호버 시 살짝 밝아지며 줌 */
.bento-card-img {
  transition: filter 0.45s ease, transform 0.6s cubic-bezier(0.16, 1, 0.3, 1);
  filter: brightness(0.9) saturate(1.05);
}

.bento-card:hover .bento-card-img {
  filter: brightness(1.06) saturate(1.18);
  transform: scale(1.04);
}

/* 리퀴드 글로우 테두리 오버레이 */
.bento-glow-ring {
  opacity: 0;
  background: linear-gradient(
    145deg,
    rgba(255, 255, 255, 0.1) 0%,
    transparent 45%
  );
  transition: opacity 0.35s ease;
}

.bento-card:hover .bento-glow-ring {
  opacity: 1;
}

/* ─── Giscus ────────────────────────────────────────────── */
.giscus-frame {
  background: transparent !important;
}

.giscus-container {
  min-height: 20rem;
}

/* ─── Markdown Prose ────────────────────────────────────── */
.prose p {
  margin-bottom: 1rem;
}

.prose p:last-child {
  margin-bottom: 0;
}

.prose strong {
  font-weight: 600;
  color: var(--color-text);
}

.prose em {
  font-style: italic;
}

.prose h1, .prose h2, .prose h3, .prose h4 {
  font-family: var(--font-serif);
  font-weight: 500;
  margin-top: 1.5rem;
  margin-bottom: 0.75rem;
  color: var(--color-text);
}

.prose h1 { font-size: 1.5rem; }
.prose h2 { font-size: 1.25rem; }
.prose h3 { font-size: 1.1rem; }
.prose h4 { font-size: 1rem; }

.prose ul, .prose ol {
  margin: 0.75rem 0;
  padding-left: 1.5rem;
}

.prose ul {
  list-style-type: disc;
}

.prose ol {
  list-style-type: decimal;
}

.prose li {
  margin-bottom: 0.25rem;
}

.prose blockquote {
  border-left: 3px solid var(--color-accent);
  padding-left: 1rem;
  margin: 1rem 0;
  color: var(--color-muted);
  font-style: italic;
}

.prose code {
  background: rgba(255, 255, 255, 0.1);
  padding: 0.15rem 0.4rem;
  border-radius: 0.25rem;
  font-size: 0.85em;
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
}

.prose pre {
  background: rgba(0, 0, 0, 0.3);
  border: 1px solid var(--color-border);
  border-radius: 0.5rem;
  padding: 1rem;
  overflow-x: auto;
  margin: 1rem 0;
}

.prose pre code {
  background: transparent;
  padding: 0;
  font-size: 0.85rem;
}

.prose a {
  color: var(--color-accent);
  text-decoration: underline;
  text-underline-offset: 2px;
}

.prose a:hover {
  color: var(--color-text);
}

.prose hr {
  border: none;
  border-top: 1px solid var(--color-border);
  margin: 1.5rem 0;
}
